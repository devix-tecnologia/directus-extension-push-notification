# Docker Compose Environment Variables
# Copy this file to .env.docker and fill with your own secure values
# This file is for DEVELOPMENT only - use proper secrets management in production

# ============================================
# Directus Core Configuration
# ============================================

# Generate secure random key (16+ characters)
# Command: openssl rand -hex 16
DIRECTUS_KEY=your-random-key-here

# Generate secure random secret (32+ characters)
# Command: openssl rand -base64 32
DIRECTUS_SECRET=your-random-secret-min-32-chars-here

# Admin credentials
ADMIN_EMAIL=admin@example.com

# Generate secure password (20+ characters)
# Command: openssl rand -base64 24
ADMIN_PASSWORD=YourSecurePasswordHere123!

# Public URL of your Directus instance
PUBLIC_URL=http://localhost:8055

# ============================================
# VAPID Configuration for Push Notifications
# ============================================

# ⚠️ CRITICAL: Generate your own unique VAPID keys!
# NEVER reuse keys from examples, documentation, or other projects
# NEVER commit VAPID_PRIVATE_KEY to version control
#
# Generate keys with:
#   npx web-push generate-vapid-keys
#
# You'll get output like:
#   Public Key:  BEl62i...
#   Private Key: bdSW...

# VAPID Public Key (safe to expose to clients)
VAPID_PUBLIC_KEY=your-vapid-public-key-here

# VAPID Private Key (KEEP SECRET!)
VAPID_PRIVATE_KEY=your-vapid-private-key-here

# Optional: VAPID Subject (your website or email)
# If not set, uses PUBLIC_URL automatically
# VAPID_SUBJECT=https://yourdomain.com

# ============================================
# Testing (E2E with docker-compose.test.yml)
# ============================================

# For running tests locally:
# 1. Generate test keys:
#    pnpm generate:vapid
#
# 2. Run tests with generated keys:
#    docker-compose --env-file .env.test -f docker-compose.test.yml up
#
# The generate:vapid script creates a .env.test file with fresh keys
# VAPID_SUBJECT=mailto:contact@yourdomain.com

# ============================================
# Usage Instructions
# ============================================
#
# 1. Copy this file:
#    cp .env.docker.example .env.docker
#
# 2. Generate keys:
#    openssl rand -hex 16        # For DIRECTUS_KEY
#    openssl rand -base64 32     # For DIRECTUS_SECRET
#    npx web-push generate-vapid-keys  # For VAPID keys
#
# 3. Fill .env.docker with generated values
#
# 4. Start containers:
#    docker-compose --env-file .env.docker up -d
#
# ============================================
